"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6748],{6748:(b,m,c)=>{c.r(m),c.d(m,{ImagePuzzlePageModule:()=>C});var u=c(2200),h=c(4341),a=c(9420),d=c(8132),e=c(3664),r=c(8728),P=c(5032);function p(s,F){if(1&s){const t=e.RV6();e.j41(0,"div",13)(1,"img",14),e.bIt("click",function(){const n=r.eBV(t).index,o=e.XpG();return r.Njj(o.swapPieces(n,(n+1)%o.shuffledPieces.length))}),e.k0s()()}if(2&s){const t=F.$implicit;e.BMQ("data-id",t.id),e.R7$(),e.Y8G("src",t.image,e.B4B)}}const z=[{path:"",component:(()=>{class s{constructor(t){this.navCtrl=t,this.imageUrl="assets/images/calmPuzzle.png",this.pieces=[],this.shuffledPieces=[],this.rows=2,this.cols=2,this.totalPieces=4,this.level="beginner",this.createPuzzle()}ngOnInit(){}changeLevel(t){this.level=t,this.pieces=[],this.shuffledPieces=[],"beginner"===t?this.totalPieces=4:"intermediate"===t?this.totalPieces=9:"advanced"===t&&(this.totalPieces=16);const i=Math.sqrt(this.totalPieces);this.rows=this.cols=i,this.createPuzzle()}createPuzzle(){const t=new Image;t.src=this.imageUrl,t.onload=()=>{const i=t.width/this.cols,n=t.height/this.rows;for(let o=0;o<this.rows;o++)for(let l=0;l<this.cols;l++){const g=document.createElement("canvas"),f=g.getContext("2d");f&&(g.width=i,g.height=n,f.drawImage(t,l*i,o*n,i,n,0,0,i,n),this.pieces.push({image:g.toDataURL(),id:o*this.cols+l}))}this.shufflePieces()}}shufflePieces(){this.shuffledPieces=[...this.pieces];for(let t=this.shuffledPieces.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1));[this.shuffledPieces[t],this.shuffledPieces[i]]=[this.shuffledPieces[i],this.shuffledPieces[t]]}}swapPieces(t,i){[this.shuffledPieces[t],this.shuffledPieces[i]]=[this.shuffledPieces[i],this.shuffledPieces[t]]}goToQuestion(){this.navCtrl.navigateForward("/final-question")}static#e=this.\u0275fac=function(i){return new(i||s)(e.rXU(P.q9))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-image-puzzle"]],standalone:!1,decls:22,vars:10,consts:[[1,"custom-bg",3,"fullscreen"],[1,"container"],[1,"title"],[1,"div-puzzle"],[3,"ngModelChange","ionChange","ngModel"],["value","beginner"],["value","intermediate"],["value","advanced"],[1,"puzzle-grid"],["class","puzzle-piece",4,"ngFor","ngForOf"],[1,"div-resetContinue"],[1,"reset-btn",3,"click"],[1,"continue-btn",3,"click"],[1,"puzzle-piece"],[3,"click","src"]],template:function(i,n){1&i&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"p",2),e.EFF(3,"Puzzle"),e.k0s(),e.j41(4,"div",3)(5,"ion-segment",4),e.mxI("ngModelChange",function(l){return e.DH7(n.level,l)||(n.level=l),l}),e.bIt("ionChange",function(){return n.changeLevel(n.level)}),e.j41(6,"ion-segment-button",5),e.EFF(7," Principiante "),e.k0s(),e.j41(8,"ion-segment-button",6),e.EFF(9," Intermedio "),e.k0s(),e.j41(10,"ion-segment-button",7),e.EFF(11," Avanzado "),e.k0s()(),e.j41(12,"h2"),e.EFF(13),e.nI1(14,"uppercase"),e.k0s(),e.j41(15,"div",8),e.DNE(16,p,2,2,"div",9),e.k0s()(),e.j41(17,"div",10)(18,"ion-button",11),e.bIt("click",function(){return n.shufflePieces()}),e.EFF(19,"RESET"),e.k0s(),e.j41(20,"ion-button",12),e.bIt("click",function(){return n.goToQuestion()}),e.EFF(21,"CONTINUE"),e.k0s()()()()),2&i&&(e.Y8G("fullscreen",!0),e.R7$(5),e.R50("ngModel",n.level),e.R7$(8),e.SpI("Nivel: ",e.bMT(14,8,n.level)),e.R7$(2),e.xc7("grid-template-columns","repeat("+n.cols+", 1fr)")("grid-template-rows","repeat("+n.rows+", 1fr)"),e.R7$(),e.Y8G("ngForOf",n.shuffledPieces))},dependencies:[u.Sq,h.BC,h.vS,a.Jm,a.W9,a.Gp,a.eP,a.Je,u.Pc],styles:[".custom-bg[_ngcontent-%COMP%]{--background: #2A7B78}.title[_ngcontent-%COMP%]{font-size:2.5em;color:#f7fff7;text-align:center;margin-bottom:1em}.div-puzzle[_ngcontent-%COMP%]{margin:.5em}.puzzle-grid[_ngcontent-%COMP%]{display:grid;gap:5px}.puzzle-piece[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;cursor:pointer;object-fit:cover}ion-button[_ngcontent-%COMP%]{margin-top:20px}ion-segment[_ngcontent-%COMP%]{margin-bottom:20px}.div-resetContinue[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:2em .5em .5em}.reset-btn[_ngcontent-%COMP%], .continue-btn[_ngcontent-%COMP%]{--background: #FBB6B6;--color: #F7FFF7;--font-weight: bold;width:8em}ion-segment-button[_ngcontent-%COMP%]{--color-checked: #FBB6B6}"]})}return s})()}];let v=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.$C({type:s});static#i=this.\u0275inj=r.G2t({imports:[d.iI.forChild(z),d.iI]})}return s})(),C=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.$C({type:s});static#i=this.\u0275inj=r.G2t({imports:[u.MD,h.YN,a.bv,v]})}return s})()}}]);